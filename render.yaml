services:
- type: web
  name: logaday-django
  env: python
  plan: free
  buildCommand: ./build.sh
  startCommand: gunicorn config.wsgi:application
  autoDeploy: false
  envVars:
    - key: PYTHON_VERSION
      value: 3.11.1
    - key: WEB_CONCURRENCY
      value: 4
    - key: DATABASE_URL
      fromDatabase:
        name: logaday-db
        property: connectionString
    - key: DJANGO_SECRET_KEY
      generateValue: true
    - key: DJANGO_SETTINGS_MODULE
      value: config.settings
    - key: DJANGO_DEBUG
      value: false
    - key: DJANGO_ALLOWED_HOSTS
      value: ".onrender.com"

databases:
- name: logaday-db
  plan: free
  databaseName: logadaydb
  user: logadaydb
